/* Global Variables & Basic Reset */
:root {
    /* Netflix Inspired Theme - Defaulting to Dark */
    --netflix-red: #E50914;
    --netflix-charcoal: #141414; /* Common Netflix background */
    --netflix-surface-dark: #181818; /* Slightly lighter surface for cards/elements */
    --netflix-text-primary-dark: #ffffff;
    --netflix-text-secondary-dark: #b3b3b3; /* Softer secondary text */
    --netflix-border-dark: #282828; /* Subtle borders */

    /* YouTube Player Specific Accent (to be used only on player page) */
    --youtube-player-red: #FF0000;

    /* Light Theme (Kept for toggle, but less emphasis) */
    --primary-text-light: #0f0f0f;
    --secondary-text-light: #606060;
    --background-light: #f4f4f4; /* Slightly off-white for light theme */
    --surface-background-light: #ffffff; /* White surfaces in light mode */
    --border-light: #dcdcdc;

    /* Font Stack - More Netflix-like (Helvetica Neue as primary, common fallbacks) */
    --font-family-primary: 'Helvetica Neue', 'Segoe UI', 'Roboto', 'Arial', sans-serif;
    --base-font-size: 1rem; /* 16px default */
    --line-height-base: 1.5;

    /* Assigning default theme (dark) */
    --current-background: var(--netflix-charcoal);
    --current-surface: var(--netflix-surface-dark);
    --current-text-primary: var(--netflix-text-primary-dark);
    --current-text-secondary: var(--netflix-text-secondary-dark);
    --current-border: var(--netflix-border-dark);
    --current-accent: var(--netflix-red);
}

body.light-mode { /* Updated light mode variables */
    --current-background: var(--background-light);
    --current-surface: var(--surface-background-light);
    --current-text-primary: var(--primary-text-light);
    --current-text-secondary: var(--secondary-text-light);
    --current-border: var(--border-light);
    /* --current-accent: var(--netflix-red); Accent can remain Netflix red or change for light mode if desired */
}


* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: var(--font-family-primary);
    font-size: var(--base-font-size);
    line-height: var(--line-height-base);
    background-color: var(--current-background); /* Uses new current- variables */
    color: var(--current-text-primary); /* Uses new current- variables */
    transition: background-color 0.3s, color 0.3s;
}

/* Apply a more modern scrollbar if browser supports */
body::-webkit-scrollbar {
    width: 10px;
}
body::-webkit-scrollbar-track {
    background: var(--current-surface); /* Use current surface for track */
}
body::-webkit-scrollbar-thumb {
    background-color: var(--current-text-secondary);
    border-radius: 10px;
    border: 2px solid var(--current-surface);
}
/* No need for separate dark-mode scrollbar styles if body.light-mode correctly updates current- vars */


.container {
    width: 90%;
    max-width: 1320px;
    margin: auto;
}

/* General link styling */
a {
    color: var(--current-text-primary);
    text-decoration: none;
}
a:hover {
    color: var(--current-accent); /* Netflix Red for general hover */
}
/* body.dark-mode a rules are now covered by current- vars */

/* Button base styles */
button, .button {
    padding: 8px 16px;
    border-radius: 4px; /* Netflix buttons are often less rounded */
    border: 1px solid var(--current-border);
    background-color: rgba(128, 128, 128, 0.2); /* Semi-transparent grey, common in Netflix */
    color: var(--current-text-primary);
    cursor: pointer;
    font-family: var(--font-family-primary);
    font-size: 0.9rem;
    font-weight: 500; /* Or 700 for bold like Netflix */
    transition: background-color 0.2s ease;
}
button:hover, .button:hover {
    background-color: rgba(128, 128, 128, 0.3);
}
/* body.dark-mode button rules now covered by current- vars */

/* Accent button style (e.g. Subscribe, Play) */
.accent-button {
    background-color: var(--current-accent); /* Netflix Red */
    color: var(--netflix-text-primary-dark); /* White text on red */
    border-color: var(--current-accent);
    font-weight: 700; /* Bolder for primary actions */
}
.accent-button:hover {
    background-color: #f40612; /* Slightly brighter red on hover, common Netflix pattern */
    border-color: #f40612;
}
/* body.dark-mode .accent-button also covered */


header {
    background: transparent; /* Netflix header is often transparent overlaying content or just part of dark bg */
    color: var(--current-text-primary);
    padding: 1rem 0; /* Increased padding for more cinematic feel */
    position: sticky; /* Or fixed if it overlays content */
    top: 0;
    z-index: 1000;
    border-bottom: none; /* Netflix header usually no border */
    transition: background-color 0.3s ease; /* For scroll effect */
}
/* Add a class on scroll to change header background */
header.scrolled {
    background-color: var(--netflix-charcoal); /* Solid background on scroll */
}


header .container {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

header .logo {
    font-size: 1.75rem;
    font-weight: bold; /* Or a specific font-weight if using Netflix Sans like font */
    color: var(--netflix-red);
    text-transform: uppercase; /* Netflix logo is uppercase */
}

header .search-bar {
    display: flex;
    flex-grow: 0.5;
    max-width: 600px;
}

header .search-bar input[type="text"] {
    padding: 0.6rem 1rem;
    border: 1px solid var(--current-border);
    border-radius: 2px 0 0 2px; /* Sharper edges */
    flex-grow: 1;
    font-size: 1rem;
    background-color: rgba(0,0,0,0.5); /* Dark semi-transparent input */
    color: var(--current-text-primary);
}
header .search-bar input[type="text"]:focus {
    border-color: var(--current-accent);
    outline: none;
    box-shadow: 0 0 0 1px var(--current-accent);
}


header .search-bar button {
    padding: 0.6rem 1.2rem;
    background: var(--current-surface);
    color: var(--current-text-primary);
    border: 1px solid var(--current-border);
    border-left: none;
    cursor: pointer;
    border-radius: 0 2px 2px 0; /* Sharper edges */
    font-size: 1rem;
}
header .search-bar button:hover {
     background-color: var(--current-accent);
     color: var(--netflix-text-primary-dark);
     border-color: var(--current-accent);
}


header .header-actions button {
    margin-left: 0.75rem;
    background-color: transparent; /* Buttons in header often just text/icon */
    border: none;
}
header .header-actions button:hover {
    color: var(--current-accent);
    background-color: transparent;
}


header .profile-icon {
    margin-left: 1rem;
    width: 36px;
    height: 36px;
    background: var(--netflix-red); /* Profile icon often red or an image */
    color: var(--netflix-text-primary-dark);
    border-radius: 4px; /* Netflix uses slightly rounded squares for profiles */
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: bold;
    font-size: 1.1rem;
}

/* Carousel (Now Netflix Rows) */
.carousel { /* This class might be better renamed to .content-rows-container or similar */
    padding: 1rem 0 2rem 0; /* Adjusted padding */
    background: var(--current-background); /* No separate background, part of page */
}
.carousel-inner {
    /* This will now represent a single "Row" */
    /* display: flex; Will be handled by individual row styling */
    /* overflow-x: auto; Will be handled by individual row styling */
    /* gap: 1rem; */
    padding: 0;
    margin-bottom: 2rem; /* Space between rows */
}
.carousel-inner .row-title { /* New class for row titles */
    font-size: 1.4rem;
    font-weight: 700; /* Bold titles */
    color: var(--current-text-primary);
    margin-left: 4%; /* Align with typical Netflix content indent */
    margin-bottom: 0.75rem;
}
.row-items { /* New container for horizontally scrolling items within a row */
    display: flex;
    overflow-x: auto;
    overflow-y: hidden; /* Hide vertical scrollbar if items have varying heights due to hover */
    padding: 0 4% 1rem 4%; /* Padding to match title indent and for scrollbar */
    gap: 0.5rem; /* Smaller gap between items in a row */
}
/* Hide scrollbar for row items, navigation will be via arrows or touch scroll */
.row-items::-webkit-scrollbar {
    display: none;
}
.row-items {
    -ms-overflow-style: none;  /* IE and Edge */
    scrollbar-width: none;  /* Firefox */
}


.carousel-item { /* Represents a single movie/show card in a row */
    background-color: var(--current-surface); /* Dark surface for cards */
    border-radius: 4px; /* Subtle rounding */
    overflow: visible; /* Allow hover effects to expand slightly outside bounds */
    /* box-shadow: 0 2px 8px rgba(0,0,0,0.1); No shadow by default, relies on bg contrast */
    min-width: 220px; /* Adjust based on desired number of items visible */
    max-width: 280px;
    flex-shrink: 0; /* Prevent items from shrinking */
    transition: transform 0.3s cubic-bezier(0.5, 0, 0.1, 1), z-index 0.3s; /* Smooth transform, z-index for overlap */
    position: relative;
    z-index: 1;
}
.carousel-item:hover {
    transform: scale(1.15); /* Enlarge item on hover */
    z-index: 10; /* Bring hovered item to front */
    box-shadow: 0 5px 15px rgba(0,0,0,0.5); /* Add shadow on hover */
}
.carousel-item img.thumbnail {
    width: 100%;
    height: auto;
    aspect-ratio: 16 / 9; /* Enforce aspect ratio */
    object-fit: cover;
    display: block;
    border-radius: 4px; /* Match item rounding */
}
.carousel-caption { /* Info appearing on hover, or below */
    padding: 0.75rem;
    position: absolute; /* Example: overlay on hover, or position below */
    bottom: 0;
    left: 0;
    right: 0;
    background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, rgba(0,0,0,0) 100%); /* Gradient for text readability */
    opacity: 0; /* Hidden by default, show on hover */
    transition: opacity 0.3s ease;
    border-radius: 0 0 4px 4px;
}
.carousel-item:hover .carousel-caption {
    opacity: 1;
}

.carousel-caption h3 {
    font-size: 1rem;
    margin-bottom: 0.25rem;
    color: var(--netflix-text-primary-dark); /* Always white for readability on gradient */
    font-weight: 700;
}
.carousel-caption p { /* e.g. for genre or short info */
    font-size: 0.8rem;
    color: var(--netflix-text-secondary-dark); /* Light grey for secondary info */
    margin-bottom: 0.5rem;
}
.carousel-caption .play-carousel-btn { /* Play button inside caption */
    /* Use base button styles, maybe smaller */
    padding: 4px 8px;
    font-size: 0.8rem;
    border-radius: 4px;
    background-color: var(--netflix-text-primary-dark); /* White button */
    color: var(--netflix-charcoal); /* Dark text */
    border: none;
}
.carousel-caption .play-carousel-btn:hover {
    background-color: var(--netflix-red);
    color: var(--netflix-text-primary-dark);
}



/* Category Navigation (Desktop Dropdowns - Netflix style is usually simpler, maybe not dropdowns) */
/* This section might be removed or heavily simplified for a Netflix feel */
#category-nav {
    background: var(--current-surface);
    color: var(--current-text-primary);
    padding: 0.5rem 4%; /* Align with row content */
    border-bottom: 1px solid var(--current-border);
    display: none; /* Hiding for now, Netflix relies less on this type of nav */
}

/* ... (rest of #category-nav, .dropdown, .dropdown-btn, .dropdown-content styling might be removed or adapted) */
/* For now, let's assume it's hidden or will be replaced by simpler header links */


/* Mobile Bottom Navigation */
/* Netflix mobile UI uses a bottom tab bar, but for different sections (Home, Search, Downloads, etc.) */
/* Our current bottom nav is for categories, which is less Netflix-like. */
/* Consider removing or re-purposing if aiming for strong Netflix feel. For now, just restyle. */
#mobile-bottom-nav {
    display: none;
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    background: var(--netflix-charcoal);
    color: var(--current-text-primary);
    z-index: 1000;
    padding: 0.25rem 0;
    border-top: 1px solid var(--netflix-border-dark);
}

#mobile-bottom-nav button {
    width: 33.33%;
    padding: 0.75rem 0;
    background: transparent;
    border: none;
    color: var(--current-text-secondary);
    font-size: 0.7rem; /* Smaller font for mobile tabs */
    cursor: pointer;
    transition: color 0.2s;
    text-transform: none; /* Netflix tabs are not usually uppercase */
}
#mobile-bottom-nav button.active, #mobile-bottom-nav button:hover {
    color: var(--current-text-primary); /* Active tab is brighter white */
}
/* Hiding subcategory drawer as it doesn't fit Netflix model well */
#mobile-subcategory-drawer { display: none !important; }


/* Video Grid (Main page display style - will be part of Rows now) */
/* This section needs to be re-thought. Netflix doesn't typically have a generic "grid" page like this. */
/* Content is primarily in rows. If we keep a "all movies" page, it might use this, but styled differently. */
#video-content-section {
    padding: 1.5rem 0;
    /* This whole section might be deprecated in favor of row-based display */
}

.view-controls { /* Less relevant if not using a general grid view */
    margin-bottom: 1.5rem;
    text-align: right;
    display: none; /* Hiding for now */
}

.video-grid { /* If used for e.g. "Search Results" or specific category page */
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); /* Smaller items if it's a dense grid */
    gap: 1rem; /* Smaller gap */
    padding: 0 4%; /* Align with rows */
}

/* .video-item styling will be superseded by .carousel-item styling for rows */
/* If .video-item is kept for a separate grid page, it should also be styled like .carousel-item */


/* Video Player Page - STYLES HERE SHOULD AIM TO PRESERVE YOUTUBE LOOK & FEEL */
/* Global Netflix styles should not break this page's specific YouTube styling */
#video-player-page {
    padding: 1rem 0;
    background-color: var(--current-background); /* Page BG follows theme */
}
/* ... existing #video-player-page .container, .player-page-layout etc. are mostly fine ... */

#sticky-player-container {
    position: sticky;
    top: 70px; /* Adjusted for potentially taller Netflix header or more space */
    z-index: 900;
    background-color: #000;
    margin-bottom: 1rem;
    border-radius: 0;
    overflow: hidden;
}
#sticky-player-container .video-js {
    width: 100% !important;
    aspect-ratio: 16 / 9;
}


/* VideoJS specific styling - ENSURE YOUTUBE RED IS USED HERE */
.video-js .vjs-big-play-button {
    background-color: rgba(0, 0, 0, 0.45);
    border-radius: 50%;
    width: 3em;
    height: 3em;
    line-height: 3em;
    font-size: 2.5em;
    transition: background-color 0.2s, transform 0.2s;
}
.video-js:hover .vjs-big-play-button, .video-js .vjs-big-play-button:focus {
    background-color: rgba(255, 0, 0, 0.9) !important; /* YouTube Red, ensure override */
    transform: scale(1.1);
}
.video-js .vjs-control-bar {
    background-color: rgba(0, 0, 0, 0.3);
    transition: opacity 0.3s;
}
/* ... other vjs controls ... */

.video-js .vjs-play-progress, .video-js .vjs-volume-level {
    background: var(--youtube-player-red) !important; /* Explicitly use YouTube red var */
}
.video-js .vjs-slider {
    background-color: rgba(255, 255, 255, 0.3);
}

/* Video Info Container - Styles should largely remain YouTube-like */
#video-info-container {
    padding-top: 0;
}
#video-info-container h2#video-title-player {
    font-size: 1.4rem;
    font-weight: 600; /* YouTube titles are often bolder */
    color: var(--current-text-primary); /* Adapts to light/dark via current-var */
    margin-bottom: 0.5rem;
    line-height: 1.3;
}
.video-metadata-row {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: center;
    padding-bottom: 0.75rem;
    margin-bottom: 0.75rem;
    border-bottom: 1px solid var(--current-border); /* Adapts to theme */
}
.video-creator-info {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 0.9rem;
    color: var(--current-text-secondary); /* Adapts */
}
.video-creator-info .avatar-placeholder {
    width: 40px;
    height: 40px;
    background-color: var(--current-text-secondary); /* Adapts */
    border-radius: 50%;
}
.video-actions {
    display: flex;
    gap: 0.5rem;
}
.video-actions button {
    font-size: 0.85rem;
    padding: 6px 12px;
    border-radius: 18px; /* YouTube like buttons are rounded */
    background-color: var(--current-surface); /* Adapts */
    color: var(--current-text-primary); /* Adapts */
    border: 1px solid var(--current-border); /* Adapts */
}
.video-actions button:hover {
    background-color: rgba(128, 128, 128, 0.4); /* Adapts */
}

#subscribe-btn { /* This should be YouTube red */
    background-color: var(--youtube-player-red) !important; /* Ensure YouTube red */
    color: #fff !important;
    border-color: var(--youtube-player-red) !important;
    font-weight: 500;
}
#subscribe-btn:hover {
    background-color: #cc0000 !important; /* Darker YouTube red */
    border-color: #cc0000 !important;
}


#video-description-player {
    background-color: var(--current-surface); /* Adapts */
    padding: 12px;
    border-radius: 8px;
    font-size: 0.9rem;
    line-height: 1.6;
    color: var(--current-text-primary); /* Adapts */
    margin-bottom: 1rem;
}
#video-description-player strong {
    cursor: pointer;
    color: var(--current-text-primary); /* Adapts */
    font-weight: 500;
}

/* Selectors and Episode Navigation - Style to be YouTube like */
#server-quality-selector, #subtitle-selector, #episode-navigation {
    margin-top: 1rem;
    margin-bottom: 1.5rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    flex-wrap: wrap;
}
#server-quality-selector label, #subtitle-selector label {
    font-size: 0.9rem;
    color: var(--current-text-secondary); /* Adapts */
}
#server-quality-selector select, #subtitle-selector select {
    padding: 8px 12px;
    border-radius: 18px; /* Rounded for YT style */
    border: 1px solid var(--current-border); /* Adapts */
    background-color: var(--current-surface); /* Adapts */
    color: var(--current-text-primary); /* Adapts */
    font-size: 0.9rem;
    min-width: 120px;
}
#episode-navigation button {
    font-size: 0.85rem;
    border-radius: 18px; /* Rounded for YT style */
    background-color: var(--current-surface); /* Adapts */
    color: var(--current-text-primary); /* Adapts */
    border: 1px solid var(--current-border); /* Adapts */
}
#episode-navigation button:hover {
    background-color: rgba(128, 128, 128, 0.4); /* Adapts */
}
#episode-navigation #episode-info {
    font-size: 0.9rem;
    color: var(--current-text-secondary); /* Adapts */
    padding: 0 0.5rem;
}

/* Comments Section Placeholder - YouTube style */
#comments-section h3 {
    font-size: 1.2rem;
    font-weight: 500;
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid var(--current-border); /* Adapts */
    color: var(--current-text-primary); /* Adapts */
}


/* Dark Mode specific overrides are now handled by body.light-mode and default :root being dark */
/* The body.dark-mode class itself is no longer strictly necessary if dark is the default. */
/* However, we keep it if we want to explicitly set dark mode via JS or if light was default. */
/* For this Netflix style, dark IS the default. */

/* Remove explicit dark mode styles that are now covered by current-vars */
/* e.g. body.dark-mode header { ... } is now just header { background: var(--current-background); ... } */
/* Most of the previous body.dark-mode section can be removed or refactored. */

/* Footer Styling (Netflix often has a more substantial footer) */
footer {
    text-align: center; /* Or left aligned like Netflix */
    padding: 2rem 4%; /* Align with row content */
    margin-top: 2rem;
    background: var(--current-surface);
    color: var(--current-text-secondary);
    border-top: 1px solid var(--current-border);
}
/* body.dark-mode footer is covered by current-vars */


/* Responsive Adjustments */

/* Tablet and larger phones (e.g., landscape phones) */
@media (min-width: 576px) {
    .video-grid {
        /* 2-3 columns for larger screens */
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    }
     #sticky-player-container {
        top: 65px; /* Adjust if header height changes */
    }
}

/* Small desktops and tablets landscape */
@media (min-width: 768px) {
    #mobile-bottom-nav {
        display: none; /* Hide mobile nav on larger screens */
    }
    #mobile-subcategory-drawer {
        display: none !important; /* Ensure it's hidden */
    }
    .desktop-nav {
        display: flex; /* Show desktop nav */
    }
    .video-grid {
        /* 3-4 columns */
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    }
}

/* Medium desktops */
@media (min-width: 992px) {
    .video-grid {
        /* 4-5 columns */
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    }
}

/* Large desktops */
@media (min-width: 1200px) {
    .video-grid {
        /* 5+ columns, or adjust minmax for desired size */
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    }
}

/* Hide desktop nav on smaller screens, show mobile nav */
@media (max-width: 767px) {
    .desktop-nav {
        display: none;
    }
    #mobile-bottom-nav {
        display: flex; /* Using flex for even distribution */
        justify-content: space-around;
    }
     #sticky-player-container {
        top: 58px; /* Adjust if header height changes for mobile */
    }
}

/* Video.js Fluid Sizing */
.video-js.vjs-fluid,
.video-js.vjs-16-9,
.video-js.vjs-4-3 {
  width: 100%;
  max-width: 100%;
  height: 0;
  padding-top: 56.25%; /* 16:9 aspect ratio */
}
.video-js.vjs-4-3 {
  padding-top: 75%;
}

/* Ensure player controls are visible over the video */
.video-js .vjs-control-bar {
    z-index: 10;
}
